{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Rustoken","text":"<p>Rustoken is a <code>Python library</code> written in <code>Rust</code> that can create and decode JWT tokens. This is the first version of the library and it currently supports only the <code>HS256</code> algorithm.</p> <p>How to make SECRET-KEY in Rustoken: <pre><code>from rustoken import secret_key\n\nsecret_key = secret_key() # save it to .env file\nprint(secret_key)\n</code></pre></p> <p>How to make SECRET-KEY on linux: <pre><code># 32 bytes (256 bits) base64\nopenssl rand -base64 32   # outputs a base64 string you can store\n\n# or 64 bytes (512 bits)\nopenssl rand -base64 64\n</code></pre></p> <p>Usage In Fast-Api:</p> <pre><code>from rustoken import RustToken\n\nfrom fastapi import FastAPI, Depends\nfrom sqlalchemy.orm import Session\nfrom . import models, schemas, database\n\napp = FastAPI()\n\n\nmodels.Base.metadata.create_all(bind=database.engine)\n\ndef get_db():\n    db = database.SessionLocal()\n    try:\n        yield db\n    finally:\n        db.close()\n\n\n@app.post(\"/make-user/\", response_model=schemas.UserResponse)\ndef create_user(user: schemas.UserCreate, db: Session = Depends(get_db)):\n    new_user = models.User(username=user.username, email=user.email)\n    db.add(new_user)\n    db.commit()\n    db.refresh(new_user)\n\n    #&lt;-------------------------------------------------------&gt;\n    jwt = RustToken(\"MY-SECRET-KEY\") # better to use .env file\n    access = jwt.create_token(new_user.id, 24 * 60 * 60) # 1 day\n    refresh = jwt.create_token(new_user.id, 24 * 60 * 60 * 7) # 7 day exp\n    return {\"refresh_token\": refresh, \"access_token\": access}\n</code></pre> <p>NOTE: The expiration time is in seconds</p> <p>How to decode Tokens: <pre><code>    from rustoken import RustToken\n\n    jwt = RustToken(\"MY-SECRET-KEY\") # better to use .env file\n\n    token = \"eyJ0eXAiOiJKV1QiLCJhbGciO...\"\n    try:\n        jwt.decode(token)\n    except ValueError:\n        # if token is expired it return a ValueError\n        ...\n</code></pre></p>"}]}